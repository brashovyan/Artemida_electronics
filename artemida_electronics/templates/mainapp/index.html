<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href= "{% static 'css/index.css' %}" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">
    <script src="{% static 'js/vue.js' %}"></script> <!-- Подключаем вью файликом -->

    <title>Artemida Electronics</title>
</head>
<body>
    <header class="header">
        <div>
            <a href="/" class="header__menu">Artemida Electronics</a>
        </div>
        <div class="header__right">
            <a href="#" class="header__menu">Меню1</a>
            <a href="#" class="header__menu">Меню2</a>
            <a href="#" class="header__menu">Меню3</a>
        </div>
    </header>

    <main class="main">
        <div class="main__left">
            <p class="main__logo">Комплектующие</p>
            <div class="products">

                <ul class="main__ul"><li><p class="main__product__logo">Процессоры</p></li></ul>

                <div class="filter__proc">
                    <p>Фильтры: </p>
                    <input type="checkbox" value="amd" v-model="filter_proc">
                    <label>AMD</label>
                    <input type="checkbox" value="INTEL" v-model="filter_proc">
                    <label>Intel</label>
                </div>

                    {% for processor in processors %}
                        <template v-if="filter_proc != ''">
                            <template v-for="filter in filter_proc">
                                <template v-if="'{{processor.title}}'.toLowerCase().indexOf(filter.toLowerCase()) != -1">
                                    <div class="product">
                                        <input type="radio" name="processor" value="{{processor.title}}%%{{processor.socket}}%%{{processor.cores}}%%{{processor.frequency}}%%{{processor.m_frequency}}%%{{processor.type_memory}}%%{{processor.max_memory}}%%{{processor.tdp}}%%{{processor.price}}"  @change="select_processor('{{processor.title}}{{processor.id}}', '{{processor.id}}')">
                                        <a class="main__img__href" onclick="showImg('{{processor.title}}{{processor.id}}')">{{processor.title}} - {{processor.socket}} {{processor.price}} руб</a>
                                        <div class="main__img" id="{{processor.title}}{{processor.id}}">
                                            <div class="img__div">
                                                {% if processor.image.url != "" or processor.image.url != Null %}
                                                    <a href="/123"> <img src="{{ processor.image.url }}" width="100" height="100" alt="{{processor.title}}"></a>
                                                {% else %}
                                                    <a href="/123"> <img src="" width="100" height="100" alt="{{processor.title}}"></a>
                                                {% endif %}
                                                    <a href="/123" class="main__img__href__block">Подробнее (также тут можно разместить краткие хар-ки)</a>
                                            </div>
                                        </div>
                                    </div>
                                </template>
                            </template>
                        </template>
                        <template v-else>
                            <div class="product">
                                <input type="radio" name="processor" value="{{processor.title}}%%{{processor.socket}}%%{{processor.cores}}%%{{processor.frequency}}%%{{processor.m_frequency}}%%{{processor.type_memory}}%%{{processor.max_memory}}%%{{processor.tdp}}%%{{processor.price}}"  @change="select_processor('{{processor.title}}{{processor.id}}', '{{processor.id}}')">
                                <a class="main__img__href" onclick="showImg('{{processor.title}}{{processor.id}}')">{{processor.title}} - {{processor.socket}} {{processor.price}} руб</a>
                                <div class="main__img" id="{{processor.title}}{{processor.id}}">
                                    <div class="img__div">
                                        {% if processor.image.url != "" or processor.image.url != Null %}
                                            <a href="/123"> <img src="{{ processor.image.url }}" width="100" height="100" alt="{{processor.title}}"></a>
                                        {% else %}
                                            <a href="/123"> <img src="" width="100" height="100" alt="{{processor.title}}"></a>
                                        {% endif %}
                                            <a href="/123" class="main__img__href__block">Подробнее (также тут можно разместить краткие хар-ки)</a>
                                    </div>
                                </div>
                            </div>
                        </template>           
                    {% endfor %}



                <ul class="main__ul"><li><p class="main__product__logo">Материнские платы</p></li></ul>
                {% for motherboard in motherboards %}
                    <template v-if="socket == '{{motherboard.socket}}'">
                        <div class="product">
                            <input name="motherboard" value="{{motherboard.title}}%%{{motherboard.socket}}%%{{motherboard.chipset}}%%{{motherboard.m_slots}}%%{{motherboard.m_frequency}}%%{{motherboard.max_memory}}%%{{motherboard.type_memory}}%%{{motherboard.price}}" type="radio" @change="select_motherboard('{{motherboard.title}}{{motherboard.id}}', '{{motherboard.id}}')">
                            <a class="main__img__href" onclick="showImg('{{motherboard.title}}{{motherboard.id}}')">{{motherboard.title}} - {{motherboard.socket}} {{motherboard.price}} руб</a>
                            <div class="main__img" id="{{motherboard.title}}{{motherboard.id}}">
                                <div class="img__div">
                                   {% if motherboard.image.url != "" or motherboard.image.url != Null %}
                                        <a href="/123"> <img src="{{ motherboard.image.url }}" width="100" height="100" alt="{{motherboard.title}}"></a>
                                    {% else %}
                                        <a href="/123"> <img src="" width="100" height="100" alt="{{motherboard.title}}"></a>
                                    {% endif %}
                                        <a href="/123" class="main__img__href__block">Подробнее (также тут можно разместить краткие хар-ки)</a>
                                </div>
                            </div>
                        </div>
                    </template>
                {% endfor %}



               <ul class="main__ul"><li><p class="main__product__logo">Оперативная память</p></li></ul>
                    <template v-if="motherboard != ''">
                        <p>Кол-во слотов в материнке: [[m_slots]]</p>
                        <p>Максимальный объём памяти: [[max_memory]]</p>
                        <p>Максимальная частота памяти: [[m_frequency]]</p>
                        <p>Занято слотов: [[slots]]</p>
                        <p>Текущий объём памяти: [[ size_memory ]]</p>
                    </template>
                    
                       {% for ram in rams %}
                           <template v-if="type_memory == '{{ram.type_memory}}' && parseFloat(m_frequency) >= '{{ram.m_frequency|floatformat}}'">
                                <div class="product" style="display: flex; align-items: center; flex-wrap: wrap;">
                                    <input name="RAM" value="{{ram.title}}%%{{ram.size}}%%{{ram.price}}" type="checkbox"  @change="select_ram('{{ram.title}}{{ram.id}}', '{{ram.id}}')">

                                    <div class="quantity">
                                        <div class="number">
                                            <button class="number-minus" type="button" @click="select_ram_minus('{{ram.title}}{{ram.id}}', '{{ram.id}}')">-</button>
                                            <input type="number" min="0" value="0" step="1" v-bind:max="m_slots" readonly name="{{ram.title}}{{ram.id}}">
                                            <button class="number-plus" type="button" @click="select_ram_plus('{{ram.title}}{{ram.id}}', '{{ram.id}}')">+</button>
                                        </div>
                                    </div>
                                    
                                    <a class="main__img__href" onclick="showImg('{{ram.title}}{{ram.id}}')">{{ram.title}} - {{ram.m_frequency}} {{ram.price}} руб</a>
                                    <div class="main__img" id="{{ram.title}}{{ram.id}}" style="width: 100%;">
                                        <div class="img__div">
                                            {% if ram.image.url != "" or ram.image.url != Null %}
                                                <a href="/123"> <img src="{{ ram.image.url }}" width="100" height="100" alt="{{ram.title}}"></a>
                                            {% else %}
                                                 <a href="/123"> <img src="" width="100" height="100" alt="{{ram.title}}"></a>
                                            {% endif %}
                                            <a href="/123" class="main__img__href__block">Подробнее (также тут можно разместить краткие хар-ки)</a>
                                        </div>
                                    </div>
                                </div>
                           </template>
                       {% endfor %}




                <ul class="main__ul"><li><p class="main__product__logo">Кулеры для процессора</p></li></ul>
                {% for cooler in coolers %}
                    <template v-if="parseFloat(tdp) <= '{{cooler.power|floatformat}}' && parseFloat(tdp) != 0">
                        <div class="product">
                            <input name="cooler" value="{{cooler.title}}%%{{cooler.power}}%%{{cooler.price}}" type="radio" @change="select_cooler('{{cooler.title}}{{cooler.id}}', '{{cooler.id}}')">
                            <a class="main__img__href" onclick="showImg('{{cooler.title}}{{cooler.id}}')">{{cooler.title}} {{cooler.price}} руб</a>
                            <div class="main__img" id="{{cooler.title}}{{cooler.id}}">
                                <div class="img__div">
                                {% if cooler.image.url != "" or cooler.image.url != Null %}
                                        <a href="/123"> <img src="{{ cooler.image.url }}" width="100" height="100" alt="{{cooler.title}}"></a>
                                    {% else %}
                                        <a href="/123"> <img src="" width="100" height="100" alt="{{cooler.title}}"></a>
                                    {% endif %}
                                        <a href="/123" class="main__img__href__block">Подробнее (также тут можно разместить краткие хар-ки)</a>
                                </div>
                            </div>
                        </div>
                    </template>
                {% endfor %}



                <ul class="main__ul"><li><p class="main__product__logo">Видеокарты</p></li></ul>
                {% for videocard in videocards %}
                        <div class="product">
                            <input name="videocard" value="{{videocard.title}}%%{{videocart.power}}%%{{videocard.price}}" type="radio" @change="select_videocard('{{videocard.title}}{{videocard.id}}', '{{videocard.id}}')">
                            <a class="main__img__href" onclick="showImg('{{videocard.title}}{{videocard.id}}')">{{videocard.title}} {{videocard.price}} руб</a>
                            <div class="main__img" id="{{videocard.title}}{{videocard.id}}">
                                <div class="img__div">
                                {% if videocard.image.url != "" or videocard.image.url != Null %}
                                        <a href="/123"> <img src="{{ videocard.image.url }}" width="100" height="100" alt="{{videocard.title}}"></a>
                                    {% else %}
                                        <a href="/123"> <img src="" width="100" height="100" alt="{{videocard.title}}"></a>
                                    {% endif %}
                                        <a href="/123" class="main__img__href__block">Подробнее (также тут можно разместить краткие хар-ки)</a>
                                </div>
                            </div>
                        </div>
                {% endfor %}

            </div>
        </div>

        <div class="main__right">
            <p class="main__logo">Ваш компьютер</p>
            <div class="result">
                <p>Процессор: <span class="result__processor"></span></p>
                <p>Мат. плата: <span class="result__motherboard"></span></p>
<!--                <template v-for="n in Number(m_slots)">-->
<!--                    <p>ОЗУ Слот [[n]]: <span class="result__ram[[n]]"></span></p>-->
<!--                </template>-->
                <template v-if="ram == ''">
                    <p>ОЗУ:</p>
                </template>
                <template v-for="r in ram">
                    <p>ОЗУ: [[r]]</p>
                </template>
                <p>Кулер для процессора: <span class="result__cooler"></span></p>
                <p>Видеокарта: <span class="result__videocard"></span></p>
                <p>Цена: <span class="result__price">0</span></p>
            </div>
            <button @click="price">Расчитать сцену</button>
            <button @click="clear">Сбросить всё</button>
        </div>
    </main>
    <script src="{% static 'js/vue_script.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
</body>
</html>